import React, { useState, useEffect } from 'react'
import { Users, Plus, Edit2, Trash2, Phone, MapPin } from 'lucide-react'
import Layout from '../components/Layout'
import LoadingSpinner from '../components/LoadingSpinner'
import ErrorMessage from '../components/ErrorMessage'\n\nconst LeadsPage = () => {\n  const [leads, setLeads] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState('')\n\n  useEffect(() => {\n    // TODO: Load leads from API\n    setTimeout(() => {\n      setLeads([\n        {\n          id: '1',\n          name: 'PT Maju Jaya',\n          contact: '08123456789',\n          address: 'Jl. Sudirman No. 123, Jakarta',\n          kebutuhan: 'Sistem ERP untuk mengelola inventory dan keuangan',\n          status: 'new',\n          owner: { name: 'Sales Person 1' },\n          created_at: new Date().toISOString(),\n        },\n        {\n          id: '2',\n          name: 'CV Berkah Mandiri',\n          contact: '08234567890',\n          address: 'Jl. Gatot Subroto No. 456, Bandung',\n          kebutuhan: 'Software CRM untuk customer management',\n          status: 'contacted',\n          owner: { name: 'Sales Person 2' },\n          created_at: new Date().toISOString(),\n        },\n      ])\n      setLoading(false)\n    }, 1000)\n  }, [])\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'new':\n        return 'bg-blue-100 text-blue-800'\n      case 'contacted':\n        return 'bg-yellow-100 text-yellow-800'\n      case 'qualified':\n        return 'bg-green-100 text-green-800'\n      case 'lost':\n        return 'bg-red-100 text-red-800'\n      default:\n        return 'bg-gray-100 text-gray-800'\n    }\n  }\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n    })\n  }\n\n  return (\n    <Layout>\n      <div className=\"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900 flex items-center\">\n            <Users className=\"h-8 w-8 mr-3 text-indigo-600\" />\n            Leads Management\n          </h1>\n          <p className=\"mt-2 text-gray-600\">Manage your sales leads and prospects</p>\n        </div>\n\n        {error && (\n          <ErrorMessage \n            message={error} \n            onClose={() => setError('')}\n            className=\"mb-6\"\n          />\n        )}\n\n        {loading ? (\n          <div className=\"text-center py-12\">\n            <LoadingSpinner size=\"lg\" text=\"Loading leads...\" />\n          </div>\n        ) : (\n          <div className=\"bg-white shadow-lg rounded-lg overflow-hidden\">\n            <div className=\"px-6 py-4 border-b border-gray-200 bg-gray-50\">\n              <div className=\"flex justify-between items-center\">\n                <h2 className=\"text-lg font-medium text-gray-900\">\n                  Sales Leads ({leads.length})\n                </h2>\n                <button className=\"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 flex items-center\">\n                  <Plus className=\"h-4 w-4 mr-2\" />\n                  Add Lead\n                </button>\n              </div>\n            </div>\n\n            {leads.length === 0 ? (\n              <div className=\"p-12 text-center text-gray-500\">\n                <Users className=\"h-16 w-16 mx-auto text-gray-300 mb-4\" />\n                <p className=\"text-lg\">No leads available</p>\n                <p className=\"text-sm\">Start by adding your first lead</p>\n              </div>\n            ) : (\n              <div className=\"divide-y divide-gray-200\">\n                {leads.map((lead) => (\n                  <div key={lead.id} className=\"p-6 hover:bg-gray-50 transition duration-200\">\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center space-x-3 mb-2\">\n                          <h3 className=\"text-lg font-medium text-gray-900\">\n                            {lead.name}\n                          </h3>\n                          <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(lead.status)}`}>\n                            {lead.status.charAt(0).toUpperCase() + lead.status.slice(1)}\n                          </span>\n                        </div>\n                        \n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600\">\n                          <div className=\"flex items-center\">\n                            <Phone className=\"h-4 w-4 mr-2\" />\n                            {lead.contact}\n                          </div>\n                          <div className=\"flex items-center\">\n                            <MapPin className=\"h-4 w-4 mr-2\" />\n                            {lead.address}\n                          </div>\n                        </div>\n                        \n                        <div className=\"mt-3\">\n                          <p className=\"text-sm text-gray-700\">\n                            <span className=\"font-medium\">Requirements:</span> {lead.kebutuhan}\n                          </p>\n                        </div>\n                        \n                        <div className=\"mt-3 flex items-center justify-between text-xs text-gray-500\">\n                          <span>Owner: {lead.owner.name}</span>\n                          <span>Created: {formatDate(lead.created_at)}</span>\n                        </div>\n                      </div>\n                      \n                      <div className=\"flex items-center space-x-2 ml-4\">\n                        <button className=\"text-indigo-600 hover:text-indigo-900 p-2 hover:bg-indigo-50 rounded-md transition duration-200\">\n                          <Edit2 className=\"h-4 w-4\" />\n                        </button>\n                        <button className=\"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded-md transition duration-200\">\n                          <Trash2 className=\"h-4 w-4\" />\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </Layout>\n  )\n}\n\nexport default LeadsPage
